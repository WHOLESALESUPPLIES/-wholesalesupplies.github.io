<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>World Ports Map</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
    <style>
        /* Previous styles remain the same */
        body { 
            margin: 0; 
            display: flex;
            flex-direction: column;
            font-family: monospace;
            color: white;
            font-weight: 900;
            font-size: 17px;
        }
        .main-container {
            display: flex;
            flex: 1;
            height: calc(100vh - 160px);
        }
        .top-panel, .bottom-panel {
            height: 80px;
            background: #fff;
            padding: 10px 20px;
            color: white;
            font-weight: 900;
            overflow-x: auto;
            white-space: nowrap;
        }
        .progress-container {
            display: inline-flex;
            gap: 20px;
            padding: 10px;
        }
        .progress-item {
            background: #e6a532;
            padding: 10px 15px;
            border-radius: 4px;
            margin-right: 10px;
            color: white;
            font-weight: 900;
        }
        .side-panel {
            width: 300px;
            background: #fff;
            padding: 20px;
            overflow-y: auto;
            box-sizing: border-box;
        }
        #map-container {
            flex-grow: 1;
        }
        #map {
            width: 100%;
            height: 100%;
        }
        .custom-marker {
            background: #e6a532;
            border: 3px solid rgba(0,0,0,0.3);
            border-radius: 50%;
            width: 28px !important;
            height: 28px !important;
            margin-left: -14px !important;
            margin-top: -14px !important;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .custom-marker:hover {
            background: #ff8c00;
            transform: scale(1.2);
        }
        .leaflet-tooltip {
            background: rgba(51, 51, 51, 0.9);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 4px;
            font-size: 14px;
        }
        .leaflet-tooltip-top:before {
            border-top-color: rgba(51, 51, 51, 0.9);
        }
        /* Keep all other previous styles */
    </style>
</head>
<body>
    <!-- Previous HTML structure remains the same -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <script>
        const map = L.map('map', {
            center: [30, 0],
            zoom: 3,
            zoomControl: true,
            attributionControl: true
        });

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        // Порты с названиями
        const ports = [
            { coords: [31.2, 121.5], name: 'Шанхай', country: 'Китай', type: 'Контейнерный терминал' },
            { coords: [51.9, 4.5], name: 'Роттердам', country: 'Нидерланды', type: 'Универсальный порт' },
            { coords: [44.7, 37.8], name: 'Новороссийск', country: 'Россия', type: 'Нефтяной терминал' },
            { coords: [1.3, 103.8], name: 'Сингапур', country: 'Сингапур', type: 'Контейнерный хаб' },
            { coords: [25.3, 55.3], name: 'Дубай', country: 'ОАЭ', type: 'Контейнерный терминал' },
            { coords: [41.0, 29.0], name: 'Стамбул', country: 'Турция', type: 'Универсальный порт' },
            { coords: [53.5, 9.9], name: 'Гамбург', country: 'Германия', type: 'Контейнерный терминал' },
            { coords: [40.7, -74.0], name: 'Нью-Йорк', country: 'США', type: 'Универсальный порт' },
            // Add other ports with their information...
        ];

        // Добавляем маркеры с всплывающими подсказками
        ports.forEach(port => {
            const marker = L.marker(port.coords, {
                icon: L.divIcon({
                    className: 'custom-marker'
                })
            }).addTo(map);

            // Добавляем постоянную подсказку
            marker.bindTooltip(`
                <strong>${port.name}</strong><br>
                Страна: ${port.country}<br>
                Тип: ${port.type}
            `, {
                permanent: false,
                direction: 'top',
                offset: [0, -10]
            });
        });

        // Функция для создания изогнутой линии между портами
        function createCurvedLine(start, end) {
            const latlngs = [];
            const offsetX = (end[1] - start[1]) / 4;
            const offsetY = (end[0] - start[0]) / 4;
            const midPoint = [
                start[0] + offsetY,
                start[1] + offsetX
            ];
            
            for(let t = 0; t <= 1; t += 0.01) {
                const point = [
                    Math.pow(1-t, 2) * start[0] + 2 * (1-t) * t * midPoint[0] + Math.pow(t, 2) * end[0],
                    Math.pow(1-t, 2) * start[1] + 2 * (1-t) * t * midPoint[1] + Math.pow(t, 2) * end[1]
                ];
                latlngs.push(point);
            }
            
            return L.polyline(latlngs, {
                color: '#e6a532',
                weight: 2,
                opacity: 0.6
            }).addTo(map);
        }

        // Добавляем маршруты между портами
        const routes = [
            ['Шанхай', 'Роттердам'],
            ['Дубай', 'Сингапур'],
            ['Новороссийск', 'Стамбул'],
            ['Гамбург', 'Нью-Йорк'],
            // Add other routes...
        ];

        routes.forEach(route => {
            const startPort = ports.find(p => p.name === route[0]);
            const endPort = ports.find(p => p.name === route[1]);
            if(startPort && endPort) {
                createCurvedLine(startPort.coords, endPort.coords);
            }
        });
    </script>
</body>
</html>



<!--
Я внес следующие изменения в карту:

1. Добавил информацию о портах (название, страна, тип)
2. Реализовал всплывающие подсказки при наведении на порт
3. Добавил изогнутые маршруты между портами
4. Улучшил стиль маркеров и добавил анимацию при наведении
5. Сделал подсказки в стиле вашего дизайна (темный фон, белый текст)

Особенности реализации:
- Маршруты отображаются изогнутыми линиями для лучшей визуализации
- Подсказки появляются при наведении на порт
- Маркеры портов анимируются при наведении
- Цветовая схема соответствует общему дизайну (оранжевый #e6a532)

Хотите ли вы добавить дополнительную информацию в подсказки или изменить стиль маршрутов?
-->
